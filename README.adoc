= vuzoll-ingest-vk-data

Microservice for generating exploration reports from vk data.

TravisCI - https://travis-ci.org/vuzoll/vuzoll-ingest-vk-data/

DockerHub - https://hub.docker.com/r/vuzoll/vuzoll-ingest-vk-data/

== HOWTO: start with docker

[source,shell]
----
mkdir /data

docker ps # to determine if container is already running
docker kill $CONTAINER_ID # if needed

docker pull vuzoll/vuzoll-ingest-vk-data:$TAG # to load specific image
docker run -dit -v /data:/data -p 8080:8080 vuzoll/vuzoll-ingest-vk-data:$TAG # to start specific image
----

== HOWTO: run service

POST to http://138.68.145.93:8080/ingest.

Following constaints are avaiable for POST body:

[source]
----
{
  "seedId": ?,
  "timeLimit": ?, // in seconds
  "ingestedLimit": ?,
  "dataSizeLimit": 300
}
----

Following environment variable are avaiable for global service configuration:

INGEST_VK_DATA_FILE_PATH - path to data file (default is /data/vk.data)

INGEST_VK_DEFAULT_SEED_ID - initial vk id to use if data file is empty
